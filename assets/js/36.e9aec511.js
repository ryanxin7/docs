(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{440:function(s,t,a){"use strict";a.r(t);var n=a(27),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"lnmp网站架构实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lnmp网站架构实战"}},[s._v("#")]),s._v(" LNMP网站架构实战")]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#_1-实施步骤说明"}},[s._v("1. 实施步骤说明")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1-1-nginx-模块回顾"}},[s._v("1.1 Nginx 模块回顾")])]),a("li",[a("a",{attrs:{href:"#_1-2-企业应用-网站-location应用案例"}},[s._v("1.2 企业应用: 网站 location应用案例")])]),a("li",[a("a",{attrs:{href:"#_1-3-网站页面跳转功能"}},[s._v("1.3 网站页面跳转功能")])])])]),a("li",[a("a",{attrs:{href:"#_2-lnmp-架构介绍"}},[s._v("2.  LNMP 架构介绍")])]),a("li",[a("a",{attrs:{href:"#_3-网站的-lnmp-架构部署"}},[s._v("3. 网站的 LNMP 架构部署")]),a("ul",[a("li",[a("a",{attrs:{href:"#_3-1创建虚拟用户和根目录"}},[s._v("3.1创建虚拟用户和根目录")])]),a("li",[a("a",{attrs:{href:"#_3-2-编写-nginx-配置文件"}},[s._v("3.2 编写 Nginx 配置文件")])]),a("li",[a("a",{attrs:{href:"#_3-3-安装数据库软件"}},[s._v("3.3 安装数据库软件")])])])]),a("li",[a("a",{attrs:{href:"#_4-php服务部署流程"}},[s._v("4. PHP服务部署流程")]),a("ul",[a("li",[a("a",{attrs:{href:"#_4-1-更新-源卸载系统自带的php软件"}},[s._v("4.1 更新 源卸载系统自带的PHP软件")])]),a("li",[a("a",{attrs:{href:"#_4-2-安装-php"}},[s._v("4.2 安装 PHP")])]),a("li",[a("a",{attrs:{href:"#_4-3-编写配置文件"}},[s._v("4.3 编写配置文件")])])])]),a("li",[a("a",{attrs:{href:"#_5-实现-lnmp-架构服务之间建立关系"}},[s._v("5. 实现 LNMP 架构服务之间建立关系")]),a("ul",[a("li",[a("a",{attrs:{href:"#_5-1-实现-nginx与-php-建立关系"}},[s._v("5.1 实现 Nginx与 PHP 建立关系")])]),a("li",[a("a",{attrs:{href:"#_5-2-编写动态资源文件测试页面"}},[s._v("5.2 编写动态资源文件测试页面")])])])]),a("li",[a("a",{attrs:{href:"#_6-实现-php-与数据库建立关系"}},[s._v("6. 实现 PHP 与数据库建立关系")]),a("ul",[a("li",[a("a",{attrs:{href:"#_6-1-编写-php-连接数据库测试文件"}},[s._v("6.1 编写 PHP 连接数据库测试文件")])]),a("li",[a("a",{attrs:{href:"#_6-2-访问测试"}},[s._v("6.2 访问测试")])])])]),a("li",[a("a",{attrs:{href:"#_7-部署搭建网站页面-代码上线"}},[s._v("7. 部署搭建网站页面 代码上线")]),a("ul",[a("li",[a("a",{attrs:{href:"#_7-1-常用的开源源码网站"}},[s._v("7.1 常用的开源源码网站")])]),a("li",[a("a",{attrs:{href:"#_7-3-将源码解压后放入到站点目录中"}},[s._v("7.3 将源码解压后放入到站点目录中")])]),a("li",[a("a",{attrs:{href:"#_7-4-进行网站页面初始化操作"}},[s._v("7.4 进行网站页面初始化操作")])]),a("li",[a("a",{attrs:{href:"#_7-5-对数据库服务进行配置"}},[s._v("7.5 对数据库服务进行配置")])])])]),a("li",[a("a",{attrs:{href:"#_8-常见问题解决"}},[s._v("8. 常见问题解决")])])])]),a("p"),s._v(" "),a("h2",{attrs:{id:"_1-实施步骤说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-实施步骤说明"}},[s._v("#")]),s._v(" 1. 实施步骤说明")]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("服务实施步骤")]),s._v(" "),a("ul",[a("li",[s._v("了解LNMP架构的组成作用")]),s._v(" "),a("li",[s._v("架构的部署")]),s._v(" "),a("li",[s._v("架构通讯原理")]),s._v(" "),a("li",[s._v("LNMP服务之间如何建立管理")]),s._v(" "),a("li",[s._v("运维人员代码上线")]),s._v(" "),a("li",[s._v("NFS服务器和Web服务器建立联系")]),s._v(" "),a("li",[s._v("数据库、存储远端迁移")])])]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_1-1-nginx-模块回顾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-nginx-模块回顾"}},[s._v("#")]),s._v(" 1.1 Nginx 模块回顾")]),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("Nginx 服务的企业应用 (nginx模块)")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("实现网站页面目录索引功能  (yum仓库搭建)")])]),s._v(" "),a("li",[a("p",[s._v("实现网站访问别名功能     server_name")])])]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("实现网站页面用户访问监控")])]),s._v(" "),a("p",[a("code",[s._v("keepalived_timeout 65s")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("HTTP请求报文: 请求头---connection: keepalived.../closed 短连接")])]),s._v(" "),a("li",[a("p",[s._v("HTTP响应报文: 响应头---connection: closed 短连接")])]),s._v(" "),a("li",[a("p",[s._v("VPN---无法访问外网/xshell无法远程连接")])])]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("实现网站服务日志功能配置")])]),s._v(" "),a("p",[s._v("错误日志: 错误日志级别")]),s._v(" "),a("p",[s._v("访问日志: 日志的格式信息 自动化分析日志(ELK 三个软件)")]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("根据用户访问uri进行匹配处理")])]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("location = xxx")]),s._v("    精确匹配\t\t\t优先级01")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("location ^~ xxx")]),s._v("   优先匹配   \t\t    优先级02")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("location ~")]),s._v("        区分大小写匹配 \t优先级03")])]),s._v(" "),a("li",[a("p",[s._v("​\t "),a("code",[s._v("location ~*")]),s._v("  \t   不区分大小写\t\t优先级03")])]),s._v(" "),a("li",[a("p",[s._v("​\t "),a("code",[s._v("location uri")]),s._v(" \t   根据uri进行匹配\t优先级03")])]),s._v(" "),a("li",[a("p",[s._v("​\t "),a("code",[s._v("location /")]),s._v(" \t   默认匹配        \t     优先级最低")])])]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_1-2-企业应用-网站-location应用案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-企业应用-网站-location应用案例"}},[s._v("#")]),s._v(" 1.2 企业应用: 网站 location应用案例")]),s._v(" "),a("p",[s._v("例如在活动时期打折促销，网站的页面信息和平常不一样。我们不可能把平常的页面为活动直接进行修改，这时我们就需要调用一个专门在活动时上线的页面作为主站广告。\n"),a("br")]),s._v(" "),a("p",[a("strong",[s._v("有两个站点目录:")])]),s._v(" "),a("ul",[a("li",[s._v("平常网站的站点目录   "),a("code",[s._v("/html/jd-normal")])]),s._v(" "),a("li",[s._v("节日网站的站点目录   "),a("code",[s._v("/html/jd-teshu")])]),s._v(" "),a("li",[s._v("​    "),a("code",[s._v("location / { root /html/jd-normal }")])]),s._v(" "),a("li",[a("code",[s._v("location / 特殊\t { root /html/jd-teshu }")])])]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_1-3-网站页面跳转功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-网站页面跳转功能"}},[s._v("#")]),s._v(" 1.3 网站页面跳转功能")]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("p",[s._v("第一种方法：")]),s._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rewrite")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("https")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ryanxin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" permanent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("br"),s._v(" "),a("br"),s._v(" "),a("p",[s._v("第二种方法：")]),s._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("301")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("https")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ryanxin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("br"),s._v(" "),a("br"),s._v(" "),a("h2",{attrs:{id:"_2-lnmp-架构介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-lnmp-架构介绍"}},[s._v("#")]),s._v(" 2.  LNMP 架构介绍")]),s._v(" "),a("br"),s._v(" "),a("img",{attrs:{src:"\\img\\linux\\LNMP-2.png",alt:" LNMP调用图2",width:"85%",height:"85%"}}),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("L  代表 Linux系统")])]),s._v(" "),a("p",[a("strong",[s._v("注意:")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("selinux")]),s._v("必须关闭  防火墙关闭")]),s._v(" "),a("li",[a("code",[s._v("/tmp 1777 mysql")]),s._v(" 服务无法启动")])]),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("N 代表 Nginx服务")])]),s._v(" "),a("p",[a("strong",[s._v("作用:")])]),s._v(" "),a("p",[s._v("处理用户的静态请求 "),a("code",[s._v("html")]),s._v(" "),a("code",[s._v("jpg")]),s._v(" "),a("code",[s._v("txt")]),s._v(" "),a("code",[s._v("mp4/avi")])]),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("P  代表  php 服务")])]),s._v(" "),a("p",[a("strong",[s._v("作用:")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("处理动态的页面请求")])]),s._v(" "),a("li",[a("p",[s._v("负责和数据库建立关系")]),s._v(" "),a("br")])]),s._v(" "),a("p",[a("strong",[s._v("M  代表  mysql服务部署")])]),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("作用:")])]),s._v(" "),a("p",[s._v("存储用户的字符串数据信息")]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("h2",{attrs:{id:"_3-网站的-lnmp-架构部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-网站的-lnmp-架构部署"}},[s._v("#")]),s._v(" 3. 网站的 LNMP 架构部署")]),s._v(" "),a("h3",{attrs:{id:"_3-1创建虚拟用户和根目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1创建虚拟用户和根目录"}},[s._v("#")]),s._v(" 3.1创建虚拟用户和根目录")]),s._v(" "),a("p",[a("strong",[s._v("创建用户")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -M -s /sbin/nologin www -u "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1002")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" www\nsystemctl restart nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("br"),s._v(" "),a("p",[a("strong",[s._v("创建战点根目录")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /html/bbs/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R www.www /html/bbs/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("br"),s._v(" "),a("h3",{attrs:{id:"_3-2-编写-nginx-配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-编写-nginx-配置文件"}},[s._v("#")]),s._v(" 3.2 编写 Nginx 配置文件")]),s._v(" "),a("br"),s._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[s._v("vim "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v("    ryanxin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rewrite")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ryanxin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" permanent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v("   www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ryanxin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("error_page")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("502")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("503")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("504")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("root")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("br"),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_3-3-安装数据库软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-安装数据库软件"}},[s._v("#")]),s._v(" 3.3 安装数据库软件")]),s._v(" "),a("br"),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mariadb-server mariadb -y\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#补充: 数据库初始化过程 mysql_install_db")]),s._v("\n\t\n--basedir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("path       The path to the MariaDB installation directory.\n\t                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定mysql程序目录")]),s._v("\n--datadir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("path       The path to the MariaDB data directory.\n\t                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定数据信息保存的目录")]),s._v("\n--user"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#让mysql管理数据目录  700\t")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("br"),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("创建数据库的密码信息:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/application/mysql/bin/mysqladmin -u root      password "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'new-password'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给本地数据库设置密码")]),s._v("\n/application/mysql/bin/mysqladmin -u root -h web01 password "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'new-password'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给远程数据库设置密码")]),s._v("\n\nmysqladmin -u root  password "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xin123'")]),s._v("    --- 设置密码  \t\nmysql -u root -pxin123\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("br"),s._v(" "),a("p",[a("strong",[s._v("启动数据库服务")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl start mariadb.service \nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" mariadb.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("br"),s._v(" "),a("br"),s._v(" "),a("h2",{attrs:{id:"_4-php服务部署流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-php服务部署流程"}},[s._v("#")]),s._v(" 4. PHP服务部署流程")]),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_4-1-更新-源卸载系统自带的php软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-更新-源卸载系统自带的php软件"}},[s._v("#")]),s._v(" 4.1 更新 源卸载系统自带的PHP软件")]),s._v(" "),a("p",[s._v("​\t"),a("br")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum remove php-mysql php php-fpm php-common\t\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("br"),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_4-2-安装-php"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-安装-php"}},[s._v("#")]),s._v(" 4.2 安装 PHP")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y php71w php71w-cli php71w-common php71w-devel php71w-embedded php71w-gd php71w-mcrypt php71w-mbstring php71w-pdo php71w-xml php71w-fpm php71w-mysqlnd php71w-opcache php71w-pecl-memcached php71w-pecl-redis php71w-pecl-mongodb\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("br"),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_4-3-编写配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-编写配置文件"}},[s._v("#")]),s._v(" 4.3 编写配置文件")]),s._v(" "),a("div",{staticClass:"language-BASH line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/php-fpm.d/www.conf\nuser "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" www  \ngroup "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" www\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#保证nginx进程的管理用户和php服务进程的管理用户保持一致")]),s._v("\nsystemctl start php-fpm \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("br"),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("LNMP 服务间调用图")])]),s._v(" "),a("img",{attrs:{src:"\\img\\linux\\LNMP-1.png",alt:" LNMP调用图",width:"85%",height:"85%"}}),s._v(" "),a("br"),s._v(" "),a("p",[s._v("Nginx 通过location匹配以PHP结尾的文件，调用Fastcgi接口执行fastcgi_pass 命令发送给PHP的php-fam进程接收，wrapper进程进行处理，处理后在原路返回给nginx最后客户端可以看到动态页面，如果需要调用数据库在通过php解析器解析成sql语句与数据库进行调用数据操作。最后生成动态页面返回给nginx客户端可以看到页面。")]),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("调用流程")])]),s._v(" "),a("p",[s._v("用户访问网站 --- > nginx(fastcgi_pass) --  FastCGI--\x3e  (php-fpm -- wrapper) php (php解析器) ---\x3e  mysql(读取或写入)")]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("h2",{attrs:{id:"_5-实现-lnmp-架构服务之间建立关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-实现-lnmp-架构服务之间建立关系"}},[s._v("#")]),s._v(" 5. 实现 LNMP 架构服务之间建立关系")]),s._v(" "),a("br"),s._v(" "),a("p",[s._v("Nginx无法直接 和 数据库建立联系，因此要先和PHP 建立关系。")]),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_5-1-实现-nginx与-php-建立关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-实现-nginx与-php-建立关系"}},[s._v("#")]),s._v(" 5.1 实现 Nginx与 PHP 建立关系")]),s._v(" "),a("p",[a("strong",[s._v("编写 nginx 配置文件")])]),s._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v(" \\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php$ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("root")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fastcgi_index")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fastcgi_param")]),s._v(" SCRIPT_FILENAME "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$document_root")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$fastcgi_script_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fastcgi_pass")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include")]),s._v(" fastcgi_params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#变量配置文件 ")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),s._v(" "),a("br"),s._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[s._v("systemctl nginx restart "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启服务")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v(" ryanxin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rewrite")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ryanxin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" permanent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v(" www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ryanxin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("error_page")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("502")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("503")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("504")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("root")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v(" \\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php$ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("root")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fastcgi_index")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fastcgi_param")]),s._v(" SCRIPT_FILENAME "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$document_root")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$fastcgi_script_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fastcgi_pass")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include")]),s._v(" fastcgi_params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("   \n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("p",[a("br"),s._v(" "),a("br")]),s._v(" "),a("h3",{attrs:{id:"_5-2-编写动态资源文件测试页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-编写动态资源文件测试页面"}},[s._v("#")]),s._v(" 5.2 编写动态资源文件测试页面")]),s._v(" "),a("br"),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[s._v("vim /html/blog/test_php.php  \n"),a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("phpinfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("?>")])]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("浏览器输入地址进行访问测试")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.ryanxin.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.ryanxin.com/index.php"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("strong",[s._v("注意")]),s._v(" ： 要在本地Host文件手动添加域名地址，才能实现本地域名解析访问。")]),s._v(" "),a("img",{attrs:{src:"\\img\\linux\\LNMP-3.png",alt:" PHP服务测试页",width:"85%",height:"85%"}}),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("h2",{attrs:{id:"_6-实现-php-与数据库建立关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-实现-php-与数据库建立关系"}},[s._v("#")]),s._v(" 6. 实现 PHP 与数据库建立关系")]),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_6-1-编写-php-连接数据库测试文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-编写-php-连接数据库测试文件"}},[s._v("#")]),s._v(" 6.1 编写 PHP 连接数据库测试文件")]),s._v(" "),a("br"),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[s._v("# vim test_mysql.php \n\n"),a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$servername")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[s._v('"localhost"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$username")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[s._v('"root"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$password")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[s._v('"oldboy123"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//$link_id=mysql_connect('主机名','用户','密码'); ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mysql -u用户 -p密码 -h 主机 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$conn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mysqli_connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$servername")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$conn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[s._v('"mysql successful by root !\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("die")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[s._v('"Connection failed: "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mysqli_connect_error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("?>")])]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_6-2-访问测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-访问测试"}},[s._v("#")]),s._v(" 6.2 访问测试")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.ryanxin.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.ryanxin.com/test_mysql.php"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("strong",[s._v("如果连接成功")]),s._v(" ：提示 Mysql successful by root！")]),s._v(" "),a("p",[s._v("失败则提示报错信息")]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("h2",{attrs:{id:"_7-部署搭建网站页面-代码上线"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-部署搭建网站页面-代码上线"}},[s._v("#")]),s._v(" 7. 部署搭建网站页面 代码上线")]),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_7-1-常用的开源源码网站"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-常用的开源源码网站"}},[s._v("#")]),s._v(" 7.1 常用的开源源码网站")]),s._v(" "),a("br"),s._v(" "),a("ul",[a("li",[s._v("​\t"),a("strong",[s._v("主站网站页面")]),s._v(": "),a("a",{attrs:{href:"http://www.dedecms.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.dedecms.com/"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("​\t"),a("strong",[s._v("论坛网站页面")]),s._v(": "),a("a",{attrs:{href:"http://www.discuz.net/forum.php",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.discuz.net/forum.php"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("​\t"),a("strong",[s._v("博客网站页面")]),s._v(": "),a("a",{attrs:{href:"https://cn.wordpress.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://cn.wordpress.org/"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("​\t"),a("strong",[s._v("知乎类型网站页面")]),s._v(": "),a("a",{attrs:{href:"http://www.wecenter.com/?copyright",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.wecenter.com/?copyright"),a("OutboundLink")],1)])]),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_7-3-将源码解压后放入到站点目录中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-将源码解压后放入到站点目录中"}},[s._v("#")]),s._v(" 7.3 将源码解压后放入到站点目录中")]),s._v(" "),a("br"),s._v(" "),a("p",[s._v("这里演示的是 "),a("a",{attrs:{href:"https://cn.wordpress.org",target:"_blank",rel:"noopener noreferrer"}},[s._v("Wordpress"),a("OutboundLink")],1),s._v(" 博客系统")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xf wordpress-5.2.1.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" ./* /html/bbs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("修改站点目录权限")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R www.www blog\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),s._v(" "),a("br"),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_7-4-进行网站页面初始化操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-进行网站页面初始化操作"}},[s._v("#")]),s._v(" 7.4 进行网站页面初始化操作")]),s._v(" "),a("br"),s._v(" "),a("img",{attrs:{src:"\\img\\linux\\LNMP-4.png",alt:" wordpress1",width:"100%",height:"100%"}}),s._v(" "),a("br"),s._v(" "),a("img",{attrs:{src:"\\img\\linux\\LNMP-5.png",alt:" wordpress2",width:"100%",height:"85%"}}),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_7-5-对数据库服务进行配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-对数据库服务进行配置"}},[s._v("#")]),s._v(" 7.5 对数据库服务进行配置")]),s._v(" "),a("br"),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--创建数据库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("databases")]),s._v(" wordpress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--检查")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("databases")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--创建数据库管理用户: ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" wordpress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wordpress'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v(" identified "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xin123'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--检查")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("host "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--优化: 删除无用的用户信息")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"web01"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nflush "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--刷新")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("br"),s._v(" "),a("p",[a("strong",[s._v("利用blog网站发布博文")])]),s._v(" "),a("img",{attrs:{src:"\\img\\linux\\LNMP-6.png",alt:" wordpress3",width:"100%",height:"85%"}}),s._v(" "),a("br"),s._v(" "),a("h2",{attrs:{id:"_8-常见问题解决"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-常见问题解决"}},[s._v("#")]),s._v(" 8. 常见问题解决")]),s._v(" "),a("br"),s._v(" "),a("p",[a("strong",[s._v("上传wordpress主题,报413错误,如何解决?")])]),s._v(" "),a("br"),s._v(" "),a("p",[s._v("1.修改nginx配置文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" blog.conf\nserver "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\nclient_max_body_size 50m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定用户上传数据的大小限制(默认1M)\t")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("修改php.ini配置文件")])]),s._v(" "),a("p",[s._v("​\t"),a("br")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("upload_max_filesize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 50M   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使PHP接收用户上传的更大的数据(默认2M)")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),s._v(" "),a("br")])}),[],!1,null,null,null);t.default=r.exports}}]);